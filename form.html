<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Table App</title>
    <!-- Firebase SDK Version 8.10.0 -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="app.js" defer></script>
    <style>
        /* Layout for the Counter and Door sections */
        .sections {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        /* Left-aligned Counter form */
        .counter-form {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            width: 45%;
        }

        /* Right-aligned Door form */
        .door-form {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            width: 45%;
        }

        /* Styling for inputs, selects, and buttons */
        input, select, button {
            margin-bottom: 10px;
        }

        /* Styling for rows (Wins, Losses, Draws) */
        .row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .row label {
            margin-right: 10px;
        }

        .row select {
            margin-right: 20px;
        }

        .life-counter-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 10px;
        }

        /* Set counter size to 40 and enlarge plus/minus buttons */
        #counter-life-counter, #door-life-counter {
            margin: 10px 0;
            font-size: 40px;
            font-weight: bold;
        }

        /* Triple the size of the plus and minus buttons */
        button {
            font-size: 3em;
            padding: 10px 20px;
        }

        /* Styling for buttons at the bottom */
        .bottom-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Table App</h1>

    <div class="sections" id="sections-container">
        <!-- Counter Section -->
        <form class="counter-form" id="counter-form">
            <h2>Counter</h2>
            <input type="text" id="counter-name" name="counter-name" placeholder="Enter counter name" maxlength="20" required>

            <div class="row">
                <label for="counter-wins">Wins</label>
                <select id="counter-wins" name="wins">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                </select>

                <label for="counter-losses">Losses</label>
                <select id="counter-losses" name="losses">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                </select>

                <label for="counter-draws">Draws</label>
                <select id="counter-draws" name="draws">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                </select>
            </div>

            <select id="counter-hero" name="hero">
                <option value="">Select a Hero</option>
            </select>

            <div class="life-counter-container">
                <button type="button" id="plus-counter-life">+</button>
                <span id="counter-life-counter">40</span>
                <button type="button" id="minus-counter-life">-</button>
            </div>
        </form>

        <!-- Door Section -->
        <form class="door-form" id="door-form">
            <h2>Door</h2>
            <input type="text" id="door-name" name="door-name" placeholder="Enter door name" maxlength="20" required>

            <div class="row">
                <label for="door-wins">Wins</label>
                <select id="door-wins" name="wins">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                </select>

                <label for="door-losses">Losses</label>
                <select id="door-losses" name="losses">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                </select>

                <label for="door-draws">Draws</label>
                <select id="door-draws" name="draws">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                </select>
            </div>

            <select id="door-hero" name="hero">
                <option value="">Select a Hero</option>
            </select>

            <div class="life-counter-container">
                <button type="button" id="plus-door-life">+</button>
                <span id="door-life-counter">40</span>
                <button type="button" id="minus-door-life">-</button>
            </div>
        </form>
    </div>

    <!-- Buttons at the bottom for Reset and Swap -->
    <div class="bottom-buttons">
        <button type="button" id="reset-button">Reset</button>
        <button type="button" id="swap-button">Swap Counter and Door</button>
    </div>

    <script>
        // List of Heroes to populate the dropdowns
        const heroesList = [
            "Arakni", "Arakni, Huntsman", "Arakni, Solitary Confinement", "Aurora", "Aurora, Shooting Star", "Azalea",
            "Azalea, Ace in the Hole", "Benji, the Piercing Wind", "Betsy", "Besty, Skin in the Game", "Blaze, Firemind",
            "Boltyn", "Bravo", "Bravo, Showstopper", "Bravo, Star of the Show", "Brevant, Civic Protector", "Briar",
            "Briar, Warden of Thorns", "Brutus, Summa Rudis", "Chane", "Chane, Bound by Shadow", "Dash", "Dash I/O",
            "Dash, Database", "Dash, Inventor Extraordinaire", "Data Doll MKII", "Dorinthea", "Dorinthea Ironsong",
            "Dorinthea, Quicksilver Prodigy", "Dromai", "Dromai, Ash Artist", "Emperor, Dracai of Aesir", "Enigma",
            "Enigma, Ledger of Ancestry", "Enigma, New Moon", "Fai", "Fai, Rising Rebellion", "Florian", "Florian, Rotwood Harbinger",
            "Genis Wotchuneed", "Ira, Crimson Haze", "Ira, Scarlet Revenger", "Iyslander", "Iyslander, Stormbind", "Kano",
            "Kano, Dracai of Aether", "Kassai", "Kassai of the Golden Sand", "Kassai, Cintari Sellsword", "Katsu",
            "Katsu, the Wanderer", "Kavdaen, Trader of Skins", "Kayo", "Kayo, Armed and Dangerous", "Kayo, Berserker Runt",
            "Levia", "Levia, Shadowborn Abomination", "Lexi", "Lexi, Livewire", "Maxx ‘The Hype’ Nitro", "Maxx Nitro",
            "Melody, Sing-along", "Nuu", "Nuu, Alluring Desire", "Oldhim", "Oldhim, Grandfather of Eternity", "Olympia",
            "Olympia, Prized Fighter", "Oscilio", "Oscilio, Constella Intelligence", "Prism", "Prism, Advent of Thrones",
            "Prism, Awakener of Sol", "Prism, Sculptor of Arc Light", "Professor Teklovossen", "Rhinar", "Rhinar, Reckless Rampage",
            "Riptide", "Riptide, Lurker of the Deep", "Ruu’di, Gem Keeper", "Ser Boltyn, Breaker of Dawn", "Shiyana, Diamond Gemini",
            "Squizzy & Floor", "Taipanis, Dracai of Judgement", "Taylor", "Teklovossen", "Teklovossen, Esteemed Magnate",
            "Terra", "Theryon, Magister of Justice", "Uzuri", "Uzuri, Switchblade", "Valda Brightaxe", "Verdance",
            "Verdance, Thorn of the Rose", "Victor Goldmane", "Victor Goldmane, High and Mighty", "Viserai", "Viserai, Rune Blood",
            "Vynnset", "Vynnset, Iron Maiden", "Yoji, Royal Protector", "Yorick, Weaver of Tales", "Zen", "Zen, Tamer of Purpose"
        ];

        // Populate hero dropdowns for both sections
        function populateHeroDropdowns() {
            const counterHeroSelect = document.getElementById('counter-hero');
            const doorHeroSelect = document.getElementById('door-hero');
            
            // Clear previous options
            counterHeroSelect.innerHTML = '<option value="">Select a Hero</option>';
            doorHeroSelect.innerHTML = '<option value="">Select a Hero</option>';

            // Populate new options
            heroesList.forEach(hero => {
                const option = document.createElement('option');
                option.value = hero;
                option.textContent = hero;

                counterHeroSelect.appendChild(option.cloneNode(true));  // Add to counter
                doorHeroSelect.appendChild(option);  // Add to door
            });
        }

        // Call populateHeroDropdowns on page load
        populateHeroDropdowns();

        // Functionality for the reset button
        document.getElementById('reset-button').addEventListener('click', function() {
            resetForm('counter');
            resetForm('door');
        });

        // Reset function for forms
        function resetForm(section) {
            document.getElementById(`${section}-name`).value = '';
            document.getElementById(`${section}-wins`).value = '0';
            document.getElementById(`${section}-losses`).value = '0';
            document.getElementById(`${section}-draws`).value = '0';
            document.getElementById(`${section}-hero`).value = '';
            document.getElementById(`${section}-life-counter`).textContent = '40';
        }

        // Functionality for the swap button
        document.getElementById('swap-button').addEventListener('click', function() {
            const sectionsContainer = document.getElementById('sections-container');
            const counterForm = document.getElementById('counter-form');
            const doorForm = document.getElementById('door-form');

            // Swap the positions of Counter and Door sections
            if (counterForm === sectionsContainer.firstElementChild) {
                sectionsContainer.appendChild(counterForm); // Move Counter to the end
                sectionsContainer.insertBefore(doorForm, sectionsContainer.firstElementChild); // Move Door to the beginning
            } else {
                sectionsContainer.appendChild(doorForm); // Move Door to the end
                sectionsContainer.insertBefore(counterForm, sectionsContainer.firstElementChild); // Move Counter to the beginning
            }

            // Adjust the alignment based on the current order
            if (counterForm === sectionsContainer.firstElementChild) {
                counterForm.style.alignItems = 'flex-start';
                doorForm.style.alignItems = 'flex-end';
            } else {
                counterForm.style.alignItems = 'flex-end';
                doorForm.style.alignItems = 'flex-start';
            }
        });

        // Event listeners for life counters
        document.getElementById('plus-counter-life').addEventListener('click', function() {
            incrementLife('counter');
        });
        document.getElementById('minus-counter-life').addEventListener('click', function() {
            decrementLife('counter');
        });
        document.getElementById('plus-door-life').addEventListener('click', function() {
            incrementLife('door');
        });
        document.getElementById('minus-door-life').addEventListener('click', function() {
            decrementLife('door');
        });

        // Functions to increment and decrement life
        function incrementLife(section) {
            const lifeCounter = document.getElementById(`${section}-life-counter`);
            lifeCounter.textContent = parseInt(lifeCounter.textContent) + 1;
        }

        function decrementLife(section) {
            const lifeCounter = document.getElementById(`${section}-life-counter`);
            if (parseInt(lifeCounter.textContent) > 0) {
                lifeCounter.textContent = parseInt(lifeCounter.textContent) - 1;
            }
        }
    </script>
</body>
</html>
